---
title: 前端开发总结方法
date: 2022-01-10 17:27:19
cover: https://w.wallhaven.cc/full/k7/wallhaven-k7q9m7.png
tags:
 -JavaScript
---

# 前言

总结一下个人开发总封装的实用方法，以便后期开发方便

# 方法

## 合并表格行

在开发表格过程中，总是需要合并单元格子，后端会把相同的数据放在一起，前端处理合并，以下是利用哈希值处理的合并方法。

```js
//tableData 合并的表格数据,matchKey为匹配的key数组，可匹配多个
function dealWithMergeData(tableData, matchKey) {
    let spanObject = {}
    //遍历匹配项
    matchKey.forEach((spanKeyItem) => {
        if (!spanObject[spanKeyItem]) spanObject[spanKeyItem] = [];
        //起始索引
        let startIndex = 0;
        //遍历表格数据
        for (let i = 0; i < tableData.length; i++) {
            let tableItem = tableData[i];
            if (i != 0) {
                //如果当前的值和上一个一样
                if (tableItem[spanKeyItem] === tableData[i - 1][spanKeyItem]) {
                    //起始自增
                    spanObject[spanKeyItem][startIndex].rowspan++;
                    //自身设置为空
                    spanObject[spanKeyItem][i] = {
                        rowspan: 0,
                        colspan: 0
                    }
                } else {
                    //如果不等于，那么自身就是起始索引，重新开始
                    startIndex = i;
                    spanObject[spanKeyItem][startIndex] = {
                        rowspan: 1,
                        colspan: 1
                    }
                }
            } else {
                spanObject[spanKeyItem][i] = {
                    rowspan: 1,
                    colspan: 1
                }
            }
        }
    })
    return spanObject
}

//dealWithMergeData(tableData,['key','vehicleId'])

```
